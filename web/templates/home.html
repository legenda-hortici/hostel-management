{{ define "home" }}
<div class="container mt-4">
    <!-- –ö–∞—Ä—É—Å–µ–ª—å -->
    <div id="carouselExample" class="carousel slide mb-4" data-bs-ride="carousel">
        <div class="carousel-inner">
            {{ range $index, $banner := .Banners }}
            <div class="carousel-item {{ if eq $index 0 }}active{{ end }}">
                <img src="/{{ $banner }}" class="d-block w-100 banner-image" alt="–ë–∞–Ω–Ω–µ—Ä">
            </div>
            {{ end }}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
        </button>
    </div>

    <style>
        /* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤—ã—Å–æ—Ç—É –¥–ª—è –±–∞–Ω–Ω–µ—Ä–∞ */
        .banner-image {
            height: 300px; /* –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ä–∞–∑–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–º –Ω—É–∂–µ–Ω */
            object-fit: cover; /* –≠—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏, –æ–±—Ä–µ–∑–∞—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ–Ω–æ –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        }
    </style>        

    <!-- –ò–∫–æ–Ω–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    {{ if eq .Role "admin" }}
    <div class="text-end">
        <button class="btn btn-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#bannerSettings">
            ‚öô –ë–∞–Ω–Ω–µ—Ä—ã
        </button>
    </div>
    
    <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–Ω–µ—Ä–∞–º–∏ -->
    <div id="bannerSettings" class="collapse mt-3">
        <form action="/home/upload_banner" method="POST" enctype="multipart/form-data" class="mb-3">
            <small>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: —Ä–µ–∫–æ–º–µ–Ω–¥—É–º—ã–π —Ä–∞–∑–º–µ—Ä 1280x300</small>
            <input type="file" name="banner" accept="image/*" class="form-control mb-2" required>
            <button type="submit" class="btn btn-success">üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
        </form>
        
        <ul class="list-group">
            {{ range .Banners }}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <span>{{ . }}</span>
                <form action="/home/delete_banner" method="POST" class="d-inline">
                    <input type="hidden" name="banner" value="{{ . }}">
                    <button type="submit" class="btn btn-danger btn-sm">üóë –£–¥–∞–ª–∏—Ç—å</button>
                </form>
            </li>
            {{ end }}
        </ul>
    </div>        
    {{ end }}

    <!-- –ù–æ–≤–æ—Å—Ç–∏ -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>–ù–æ–≤–æ—Å—Ç–∏</h2>
        <div class="d-flex align-items-center">
            <a href="/news" class="btn btn-link me-2">–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ</a>
            {{ if eq .Role "admin" }}
            <a href="/create_news" class="btn btn-primary btn-sm">
                <i class="bi bi-plus-lg"></i>
            </a>
            {{ end }}
        </div>
    </div>

    <div class="d-flex justify-content-between align-items-center mb-3" style="display: flex; justify-content: space-between; align-items: center;">
        <!-- –ö–Ω–æ–ø–∫–∞ –≤–ª–µ–≤–æ -->
        <button class="btn btn-light" 
                id="newsPrev" 
                style="width: 30px; height: 30px; 
                    display: flex; 
                    justify-content: center; 
                    align-items: center; 
                    padding: 0;">
            <i class="bi bi-chevron-left" style="font-size: 1.5rem;"></i>
        </button>

        <!-- –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º–∞—è –ª–µ–Ω—Ç–∞ –Ω–æ–≤–æ—Å—Ç–µ–π -->
        <div class="news-carousel d-flex gap-3 overflow-hidden p-2" id="newsCarousel">
            {{ range .News }}
            <a href="/news/{{ .ID }}" class="card news-card flex-shrink-0 position-relative" style="width: 300px; height: 120px; text-decoration: none; color: inherit;">
                <div class="card-body text-center">
                    <h6 class="card-title text-truncate">{{ .Title }}</h6>
                    <p class="card-text text-truncate small">{{ .Annotation }}</p>
                </div>
            </a>
            {{ end }}
        </div>
    
        <!-- –ö–Ω–æ–ø–∫–∞ –≤–ø—Ä–∞–≤–æ -->
        <button class="btn btn-light" 
                id="newsNext" 
                style="width: 30px; height: 30px; 
                    display: flex; 
                    justify-content: center; 
                    align-items: center; 
                    padding: 0;">
            <i class="bi bi-chevron-right" style="font-size: 1.5rem;"></i>
        </button>
    </div>

    <!-- –û–±—ä—è–≤–ª–µ–Ω–∏—è -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>–û–±—ä—è–≤–ª–µ–Ω–∏—è</h2>
        <div class="d-flex align-items-center">
            <a href="/notices" class="btn btn-link me-2">–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ</a>
            {{ if eq .Role "admin" }}
            <a href="/create_notice" class="btn btn-primary btn-sm">
                <i class="bi bi-plus-lg"></i>
            </a>
            {{ end }}
        </div>
    </div>    

    <div class="d-flex justify-content-between align-items-center mb-3" style="display: flex; justify-content: space-between; align-items: center;">
        <!-- –ö–Ω–æ–ø–∫–∞ –≤–ª–µ–≤–æ -->
        <button class="btn btn-light" 
                id="noticesPrev" 
                style="width: 30px; height: 30px; 
                    display: flex; 
                    justify-content: center; 
                    align-items: center; 
                    padding: 0;">
            <i class="bi bi-chevron-left" style="font-size: 1.5rem;"></i>
        </button>

        <!-- –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º–∞—è –ª–µ–Ω—Ç–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π -->
        <div class="news-carousel d-flex gap-3 overflow-hidden p-2" id="noticesCarousel">
            {{ range .Notices }}
            <a href="/notices/{{ .ID }}" class="card news-card flex-shrink-0 position-relative" style="width: 300px; height: 120px; text-decoration: none; color: inherit;">
                <div class="card-body text-center">
                    <h6 class="card-title text-truncate">{{ .Title }}</h6>
                    <p class="card-text text-truncate small">{{ .Annotation }}</p>
                </div>
            </a>
            {{ end }}
        </div>
    
        <!-- –ö–Ω–æ–ø–∫–∞ –≤–ø—Ä–∞–≤–æ -->
        <button class="btn btn-light" 
                id="noticesNext" 
                style="width: 30px; height: 30px; 
                    display: flex; 
                    justify-content: center; 
                    align-items: center; 
                    padding: 0;">
            <i class="bi bi-chevron-right" style="font-size: 1.5rem;"></i>
        </button>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const newsCarousel = document.getElementById("newsCarousel");
        const noticesCarousel = document.getElementById("noticesCarousel");
        const newsPrevBtn = document.getElementById("newsPrev");
        const newsNextBtn = document.getElementById("newsNext");
        const noticesPrevBtn = document.getElementById("noticesPrev");
        const noticesNextBtn = document.getElementById("noticesNext");

        const scrollAmount = 320; // –®–∞–≥ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏

        newsPrevBtn.addEventListener("click", function () {
            newsCarousel.scrollBy({ left: -scrollAmount, behavior: "smooth" });
        });

        newsNextBtn.addEventListener("click", function () {
            newsCarousel.scrollBy({ left: scrollAmount, behavior: "smooth" });
        });

        noticesPrevBtn.addEventListener("click", function () {
            noticesCarousel.scrollBy({ left: -scrollAmount, behavior: "smooth" });
        });

        noticesNextBtn.addEventListener("click", function () {
            noticesCarousel.scrollBy({ left: scrollAmount, behavior: "smooth" });
        });
    });
</script>

{{ end }}